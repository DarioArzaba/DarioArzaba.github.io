<!DOCTYPE html> <html lang="es"> <head> <meta charset="utf-8"> <meta name="viewport" content="width=device-width initial-scale=1"> <meta name="author" content="Dario Arzaba"> <meta name="description" content="PGN o Portable Game Notation es un tipo de archivo usado para representar partidas de ajedrez en forma de texto. Es facil de entender y editar, tanto por hum..."> <title>PGN Spec</title> <link rel="stylesheet" href="/css/main.css" type="text/css"> <link rel="canonical" href="http://darioarzaba.github.io/ajedrez/2017/02/16/PGNSpec.html"> <link rel="alternate" type="application/rss+xml" title="" href="http://darioarzaba.github.io/feed.xml"> </head> <body> <div id="particles-js" class="header"> <div class="wrapper"> <h1><a href="http://darioarzaba.github.io">Dario Arzaba</a></h1> <a class="header-btn" href="http://darioarzaba.github.io/feed.xml"> <span class="rss icon" aria-hidden="true"></span> <span class="btn-description">Subscribete</span> </a> </div> </div> <div class="wrapper"> <article class="post" itemscope itemtype="http://schema.org/BlogPosting"> <meta itemprop="wordCount" content="1501"> <link itemprop="url" href="http://darioarzaba.github.io/ajedrez/2017/02/16/PGNSpec.html"> <meta itemprop="description" content="PGN o Portable Game Notation es un tipo de archivo usado para representar partidas de ajedrez en forma de texto. Es facil de entender y editar, tanto por humanos como por computadoras. Fue creado para ser importando, procesado y exportado rapidamente, a diferencia de otros formatos adapatados a usos especificos. Para poder ver y editar PGN podemos usar un editor online como el Analysis Board Editor "> <meta itemprop="author" content="Dario Arzaba"> <h1 class="post-title" itemprop="headline">PGN Spec</h1> <ul class="post-meta"> <li aria-label="Category"> <span class="category icon" aria-hidden="true"></span> <a href="/blog/categories/ajedrez"> Ajedrez </a> </li> <li aria-label="Publication date"> <span class="calendar icon" aria-hidden="true"></span> <time itemprop="datePublished" datetime="2017-02-16"> 16 Feb 2017 </time> </li> <li aria-label="Reading time"> <span class="reading icon" aria-hidden="true"></span> About 8 minutes </li> </ul> <div class="content" itemprop="articleBody"> <p>PGN o <a href="https://en.wikipedia.org/wiki/Portable_Game_Notation">Portable Game Notation</a> es un tipo de archivo usado para representar partidas de ajedrez en forma de texto. Es facil de entender y editar, tanto por humanos como por computadoras. Fue creado para ser importando, procesado y exportado rapidamente, a diferencia de otros formatos adapatados a usos especificos. Para poder ver y editar PGN podemos usar un editor online como el <a href="https://www.chess.com/analysis-board-editor">Analysis Board Editor</a></p> <p>Para incluir tableros interactivos de ajedrez en mi <a href="thehearthofdev.x10.mx/Ajedrez/Ajedrez.html">Blog General</a>, utilice este <a href="http://pgn4web-board.casaschi.net/board-generator.html">Generador de Diagramas</a> y un <a href="https://sourceforge.net/p/pgn4web/wiki/Index/">Script</a> que me otorga el siguiente codigo HTML:</p> <div class="highlighter-rouge"><pre class="highlight"><code>
&lt;iframe height='300' width='214' sandbox="allow-scripts" src='http://pgn4web-board.casaschi.net/?am=n&amp;amp;d=2000&amp;amp;ss=26&amp;amp;ps=d&amp;amp;pf=d&amp;amp;lcs=_XNo&amp;amp;dcs=O8AB&amp;amp;bbcs=O8AB&amp;amp;bscs=b&amp;amp;hm=n&amp;amp;hcs=r4fT&amp;amp;bd=s&amp;amp;cbcs=YeiP&amp;amp;ctcs=$$$$&amp;amp;hd=h&amp;amp;md=t&amp;amp;tm=13&amp;amp;fmcs=$$$&amp;amp;fccs=v71$&amp;amp;hmcs=_XNo&amp;amp;fms=11&amp;amp;fcs=m&amp;amp;cd=i&amp;amp;bcs=____&amp;amp;fp=0&amp;amp;hl=f&amp;amp;fh=320&amp;amp;fw=214&amp;amp;
pe=103$zlax9RvfEG8ovpM739pNgYVM739pNmuAVJT39pNmXX5Hh01BHz4AVvs$wilhVgZKNI$wila2$8x1pw$0zBfcizb$3QF7O_v0
'&gt;No disponible&lt;/iframe&gt;

\\Notece que la unica parte que cambia es la variable (PE).

</code></pre></div> <hr /> <h3 id="historia">Historia</h3> <p>PGN fue creado en 1993 por <a href="https://chessprogramming.wikispaces.com/Steven+Edwards">Steven J. Edwards</a>, el formato fue importante al inicio del internet ya que permitio compartir partidas de ajedrez utilizando poco espacio de almacenamiento, de ahí que sea un formato <em>portable</em>, permitiendo almacenar cientos de partidas (<em>Bases de Datos</em>) en un unico archivo de texto.</p> <p>Segun la <a href="http://www.saremba.de/chessgml/standards/pgn/pgn-complete.htm">especificacion</a>, existen dos modalidades principales, el de <em>importacion</em> y el de <em>exportacion</em>. En el de importacion el archivo es editado y visualizado por humanos, usando sitaxis flexible, mentras que en el de exportacion el archivo es procesado por programas, usando sintaxis estricta.</p> <p>Todo archivo PGN inicia con un par de atributos o <em>etiquetas</em>, con sus valores entre corchetes <code class="highlighter-rouge">[Atributo "Valor"]</code>. Se requiere iniciar forzozamente con siete etiquetas estandar o SRT (<em>Seven Tag Roster</em>):</p> <ol> <li><strong>Event</strong>: Nombre del evento.</li> <li><strong>Site</strong>: Lugar del evento (Ciudad,Region Pais), en donde el pais se coloca con el codigo <a href="https://en.wikipedia.org/wiki/International_Olympic_Committee">IOC</a>.</li> <li><strong>Date</strong>: Fecha de inicio del juego (YYYY.MM.DD).</li> <li><strong>Round</strong>: Numero de la ronda del juego en un torneo.</li> <li><strong>White</strong>: Nombre del jugador o programa con las blancas (Apellido, Nombre) o (Aplicacion Version).</li> <li><strong>Black</strong>: Nombre del jugador o programa con las negras (Apellido, Nombre) o (Aplicacion Version).</li> <li><strong>Result</strong>: Resultado de la partida. Solo se permiten cuatro valores (1-0), (0-1), (1/2-1/2) o (*), en donde el asterisco simboliza que se desconoce el resultado.</li> </ol> <p>Etiquetas Opcionales:</p> <ol> <li><strong>Annotator</strong>: Persona que anoto la partida.</li> <li><strong>PlyCount</strong>: Numero total de movimientos jugados.</li> <li><strong>TimeControl</strong>: Tiempo de Control (Movimientos/Segundos:TiempoExtra).</li> <li><strong>Time</strong>: Hora local al inicio de la partida (HH:MM:SS).</li> <li><strong>Termination</strong>: Describe las circunstancias por las que termino la partida (Abandoned, adjudication, death, emergency, normal, rules infraction, time forfeit o undeterminated).</li> <li><strong>Mode</strong>: Describe la modalidad de ajedrez utilizada como OTB (Over the Board), ICS (Internet Chess Server), PM (Paper Mail), EM (Electronic Mail), TC (General Telecommunication) etc.</li> <li><strong>FEN</strong>: Describe la posicion inicial de las piezas utilizando Forsyth Edwards Notation. Esta etiqueta debe de ir acompañada de una etiqueta SetUp cuyo valor sea igual a (1).</li> <li><strong>Variant</strong>: Especifica una variacion de ajedrez como Chess960.</li> <li><strong>ECO</strong>: Especifica la apertura ECO utilizada en la partida como (xdd) o (xdd/dd) en donde (x) es una letra (A-E) y en donde (d) son los digitos de la apertura.</li> <li><strong>NIC</strong>: Especifica la apertura segun la <em>New Chess Database</em></li> </ol> <p>Si se desconoce algun valor se colocan uno o más signos de interrogacion <code class="highlighter-rouge">[Event "?"]</code>, y si el valor no existe o no aplica se utiliza un guion <code class="highlighter-rouge">[Round "-"]</code>.</p> <p>Despues de las etiquetas se encuentra la seccion que contiene los movimientos del juego, denominada <em>Movetext</em>. Los movimientos se escriben en notacion <a href="https://en.wikipedia.org/wiki/Algebraic_notation_(chess)">SAN</a>. En el caso de que sea el turno de las negras se utilizan tres puntos para representar al de las blancas.</p> <p>Podemos agregar <em>comentarios genericos</em> con la notacion <a href="https://en.wikipedia.org/wiki/Numeric_Annotation_Glyphs">NAG</a>, los codigos NAG inician con un signo de dolar seguido de un numero del 0 al 255 <code class="highlighter-rouge">1.e4 $2 e5</code>. Mientras que los <em>comentarios especificos</em> se agregan utilizando llaves <code class="highlighter-rouge">1.e4 {Incredible!} e5</code>.</p> <p>Se utiliza un simbolo de porcentaje para escapar <em>caracteres especiales</em>, los cuales pueden ser ignorados o aprovechados como <em>comandos adicionales</em> <code class="highlighter-rouge">1.e4 [%Comando valor] e5</code>.</p> <p>Se utilizan parentesis para delimitar <em>Variaciones Recursivas</em> o RAV (Recursive Annotation Variation). Una variacion recursiva ignora el ultimo movimiento y lo sustituye por una linea de movimientos alterantivos <code class="highlighter-rouge">22.e5 (1. Bb5 {Este hubiera sido mejor}) e6</code>.</p> <p>La representacion binaria de un archivo PGN es un <a href="http://pgn2pgc.sourceforge.net/">PGC</a> (PGN Game Coding). Se utilizaba antiguamente para obtener la mayor eficiencia posible en procesamiento y almacenaje, sin embargo evitaba casi por completo su posterior edicion por lo que no fue popularizada.</p> <p>El uso de <a href="http://www.digitalgametechnology.com/index.php/products/electronic-boards">tableros DGT</a>, para la transmision en vivo de partidas de ajedrez, no estaba incluido en la especificacion original, por lo que para poder introducir variables de tiempo se ha propuesto incluir <em>Marcas de Tiempo</em> dentro de los comentarios, usando el simbolo de escape. <code class="highlighter-rouge"><span class="p">{</span><span class="err">Comentario</span><span class="w"> </span><span class="err">[%clk</span><span class="w"> </span><span class="err">1:05:23]</span><span class="w"> </span><span class="err">Continuar</span><span class="w"> </span><span class="err">Comentario</span><span class="p">}</span></code> .</p> <p>En el caso de utilizar dichas marcas sera necesario incluir la etiqueta de <em>TimeControl</em> para que el software pueda relacionar las marcas con el tiempo total de la partida. Notece que dentro de una marca de tiempo las variables se separan con dobles puntos mientras que valores adicionales se separan con comas. <code class="highlighter-rouge">[%Comando 1:45:12,Nf6,"String Generica"]</code></p> <p>Partida de Ejemplo:</p> <div class="highlighter-rouge"><pre class="highlight"><code>[Event "F/S Return Match"]
[Site "Belgrade, Serbia JUG"]
[Date "1992.11.04"]
[Round "29"]
[White "Fischer, Robert J."]
[Black "Spassky, Boris V."]
[Result "1/2-1/2"]

1. e4 e5 2. Nf3 Nc6 3. Bb5 a6 {This opening is called the Ruy Lopez.}
4. Ba4 Nf6 5. O-O Be7 6. Re1 b5 7. Bb3 d6 8. c3 O-O 9. h3 Nb8 10. d4 Nbd7
11. c4 c6 12. cxb5 axb5 13. Nc3 Bb7 14. Bg5 b4 15. Nb1 h6 16. Bh4 c5 17. dxe5
Nxe4 18. Bxe7 Qxe7 19. exd6 Qf6 20. Nbd2 Nxd6 21. Nc4 Nxc4 22. Bxc4 Nb6
23. Ne5 Rae8 24. Bxf7+ Rxf7 25. Nxf7 Rxe1+ 26. Qxe1 Kxf7 27. Qe3 Qg5 28. Qxg5
hxg5 29. b3 Ke6 30. a3 Kd6 31. axb4 cxb4 32. Ra5 Nd5 33. f3 Bc8 34. Kf2 Bf5
35. Ra7 g6 36. Ra6+ Kc5 37. Ke1 Nf4 38. g3 Nxh3 39. Kd2 Kb5 40. Rd6 Kc5 41. Ra6
Nf2 42. g4 Bd3 43. Re6 1/2-1/2
</code></pre></div> <hr /> <p><strong>FEN</strong>: Forsyth Edwards Notation es una notacion desarrollada por <a href="https://en.wikipedia.org/wiki/David_Forsyth_(chess_player)">Scotsman David Forsyth</a> y <a href="https://sourceforge.net/projects/sankit/">modernizada</a> por Steven Edwards para describr el estado del tablero y la posicion de todas las piezas en un momento dado. Se puede utilizar en un archivo PGN para indicar la posicion inicial de las piezas antes del primer movimiento.</p> <p>Los archivos FEN se componen de seis secciones:</p> <ol> <li><strong>Primer Seccion</strong>: Representa el lugar de las piezas en el tablero. Se cuentan las casillas desde la fila (8) a la (1) y de la columna (a) a la (h), de haber una pieza ocupando la casilla se representa con mayusculas, para las blancas con mayusculas (PNBRQK) y para las negras con minusculas (pnbrqk). Se utilizan numeros para indicar una serie horizontal de casillas vacias y cada nueva fila se separa con una diagonal (/).</li> <li><strong>Segunda Seccion</strong>: Indica si las blancas (w) o las negras (b) tienen el turno siguiente.</li> <li><strong>Tercer Seccion</strong>: Indica si el enroque esta bloqueado por una pieza enemiga. Para las blancas por el flanco del rey (K) o por el de la reina (Q) y para las negras por el flanco del rey (k) o por el de la reina (q). Si ninguno puede hacer enroque se coloca un guion (-).</li> <li><strong>Cuarta Seccion</strong>: Indica la casilla (Columna-Fila) en donde <em>seria</em> posible realizar una captura al paso, si no hay capturas al paso se coloca un guion (-).</li> <li><strong>Quinta Seccion</strong>: Numero integral positivo que indica el numero de movimientos (Ply) desde la ultima captura o movimiento con los peones, se utiliza para mantener control de la regla de cincuenta movimientos.</li> <li><strong>Sexta Seccion</strong>: Numero integral positivo que indica el turno activo de la partida, en dode cada turno esta compuesto por dos movimientos (Ply).</li> </ol> <div class="highlighter-rouge"><pre class="highlight"><code><span class="p">{</span><span class="err">FEN</span><span class="w"> </span><span class="err">de</span><span class="w"> </span><span class="err">la</span><span class="w"> </span><span class="err">posicion</span><span class="w"> </span><span class="err">inicial</span><span class="p">}</span><span class="w">
</span><span class="err">rnbqkbnr/pppppppp/</span><span class="mi">8</span><span class="err">/</span><span class="mi">8</span><span class="err">/</span><span class="mi">8</span><span class="err">/</span><span class="mi">8</span><span class="err">/PPPPPPPP/RNBQKBNR</span><span class="w"> </span><span class="err">w</span><span class="w"> </span><span class="err">KQkq</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="mi">0</span><span class="w"> </span><span class="mi">1</span><span class="w">
</span><span class="p">{</span><span class="err">FEN</span><span class="w"> </span><span class="err">en</span><span class="w"> </span><span class="err">donde</span><span class="w"> </span><span class="err">solo</span><span class="w"> </span><span class="err">quedan</span><span class="w"> </span><span class="err">los</span><span class="w"> </span><span class="err">Reyes</span><span class="w"> </span><span class="err">y</span><span class="w"> </span><span class="err">un</span><span class="w"> </span><span class="err">peon</span><span class="w"> </span><span class="err">en</span><span class="w"> </span><span class="err">e2</span><span class="p">}</span><span class="w">
</span><span class="mi">4</span><span class="err">k</span><span class="mi">3</span><span class="err">/</span><span class="mi">8</span><span class="err">/</span><span class="mi">8</span><span class="err">/</span><span class="mi">8</span><span class="err">/</span><span class="mi">8</span><span class="err">/</span><span class="mi">8</span><span class="err">/</span><span class="mi">4</span><span class="err">P</span><span class="mi">3</span><span class="err">/</span><span class="mi">4</span><span class="err">K</span><span class="mi">3</span><span class="w"> </span><span class="err">w</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="err">-</span><span class="w"> </span><span class="mi">5</span><span class="w"> </span><span class="mi">39</span><span class="w">
</span></code></pre></div> <hr /> <p><strong>EPD</strong>: <a href="http://jchecs.free.fr/pdf/EPDSpecification.pdf">Extended Position Description</a> es una notacion desarrollada por John Stanback y Steven Edwards para el programa de ajedrez <a href="https://chessprogramming.wikispaces.com/Zarkov">Zarkov</a>, el cual nos permite describir posiciones de ajedrez con una serie de atributos adicionales a la notacion FEN.</p> <p>Utiliza las cuatro primeras secciones de FEN añadiendo despues comandos adicionales. Un comando adicional esta compuesto por un <em>Opcode</em> seguido de operandos especificos del mismo.</p> <hr /> <p>Más Informacion sobre archivos PGN: <a href="http://portablegamenotation.com/Description.html">Portable Game Notation</a></p> </div> <ul class="tags"> <li><a href="/blog/tags/ajedrez">Ajedrez</a></li> <li><a href="/blog/tags/programacion">Programacion</a></li> <li><a href="/blog/tags/lenguaje">Lenguaje</a></li> <li><a href="/blog/tags/tipoarchivo">TipoArchivo</a></li> <li><a href="/blog/tags/texto">Texto</a></li> </ul> <ul class="social-share"> <li> <a class="facebook" target="_blank" rel="nofollow" title="Comparte en Facebook" onclick="window.open(this.href, 'mywin', 'left=200,top=100,width=500,height=300'); return false;" href="https://www.facebook.com/sharer/sharer.php?u=http://darioarzaba.github.io/ajedrez/2017/02/16/PGNSpec.html">Comparte en Facebook</a> </li> <li> <a class="twitter" target="_blank" rel="nofollow" title="Tuitealo" onclick="window.open(this.href, 'mywin', 'left=200,top=100,width=500,height=250'); return false;" href="https://twitter.com/intent/tweet?url=http://darioarzaba.github.io/ajedrez/2017/02/16/PGNSpec.html&text=PGN%20Spec&via=">Tuitealo</a> </li> <li> <a class="linkedin" target="_blank" rel="nofollow" title="Publica en LinkedIn" onclick="window.open(this.href, 'mywin', 'left=200,top=100,width=520,height=570'); return false;" href="https://www.linkedin.com/shareArticle?mini=true&url=http://darioarzaba.github.io/ajedrez/2017/02/16/PGNSpec.html&title=PGN Spec&summary=PGN%20o%20Portable%20Game%20Notation%20es%20un%20tipo%20de%20archivo%20usado%20para%20representar%20partidas%20de%20ajedrez%20en%20forma%20de%20texto.%20Es%20facil%20de%20entender%20y%20editar%2C%20tanto%20por%20humanos%20como%20por%20computadoras.%20Fue%20creado%20para%20ser%20importando%2C%20procesado%20y%20exportado%20rapidamente%2C%20a%20diferencia%20de%20otros%20formatos%20adapatados%20a%20usos%20especificos.%20Para%20poder%20ver%20y%20editar%20PGN%20podemos%20usar%20un%20editor%20online%20como%20el%20Analysis%20Board%20Editor%0A%0A&source=">Publica en LinkedIn</a> </li> <li> <a class="rss" target="_blank" rel="nofollow" title="Subscribete al Feed" href="http://darioarzaba.github.io/feed.xml">Subscribete al RSS</a> </li> </ul> <div class="related-posts"> <h3>Posts Relacionados</h3> <ul class="posts"> <li> <a href="/defcon/2017/03/19/DefCon.html" class="related-post">Wearables, Camaras e Interrogatorios</a> <ul class="post-meta"> <li aria-label="Category"> <span class="category icon" aria-hidden="true"></span> <a href="/blog/categories/defcon"> Defcon </a> </li> <li aria-label="Publication date"> <span class="calendar icon" aria-hidden="true"></span> <time itemprop="datePublished" datetime="2017-03-19"> 19 Mar 2017 </time> </li> <li aria-label="Reading time"> <span class="reading icon" aria-hidden="true"></span> About 4 minutes </li> </ul> </li> <li> <a href="/recetas/2017/03/18/RecetaPapas.html" class="related-post">Papas en Salsa de Jitomate</a> <ul class="post-meta"> <li aria-label="Category"> <span class="category icon" aria-hidden="true"></span> <a href="/blog/categories/recetas"> Recetas </a> </li> <li aria-label="Publication date"> <span class="calendar icon" aria-hidden="true"></span> <time itemprop="datePublished" datetime="2017-03-18"> 18 Mar 2017 </time> </li> <li aria-label="Reading time"> <span class="reading icon" aria-hidden="true"></span> less than 1 minute </li> </ul> </li> <li> <a href="/sitio%20web/2017/03/07/BrianKelks.html" class="related-post">Brian Kelks</a> <ul class="post-meta"> <li aria-label="Category"> <span class="category icon" aria-hidden="true"></span> <a href="/blog/categories/sitio-web"> Sitio web </a> </li> <li aria-label="Publication date"> <span class="calendar icon" aria-hidden="true"></span> <time itemprop="datePublished" datetime="2017-03-07"> 07 Mar 2017 </time> </li> <li aria-label="Reading time"> <span class="reading icon" aria-hidden="true"></span> About 4 minutes </li> </ul> </li> </ul> </div> <div id="disqus_thread"></div> <script type="text/javascript"> var disqus_shortname = 'https-darioarzaba-github-io'; var disqus_identifier = '/ajedrez/2017/02/16/PGNSpec.html'; var disqus_url = 'http://darioarzaba.github.io/ajedrez/2017/02/16/PGNSpec.html'; (function() { var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true; dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js'; (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq); })(); </script> </article> </div> <div class="footer"> <div class="wrapper"> <p class="copyright">&copy; 2017 Dario Arzaba - <a href="http://thehearthofdev.x10.mx" target="_blank">Website</a></p> </div> </div> <script src="/js/jquery.min.js"></script> <script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script> <script src="/js/particles.js"></script> </body> </html>
